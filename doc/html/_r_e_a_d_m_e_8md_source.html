<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elaborato Sistemi Operativi:  File sorgente README.md</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Elaborato Sistemi Operativi
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generato da Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Cerca');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Cerca');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">README.md</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Elaborato Sistemi Operativi</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;---------------------------</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;### Specifica</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;Si vuole realizzare un programma in C che utilizzi le system call (IPC), ove possibile, per implementare alcune operazioni su Matrici intere in maniera concorrente, distribuite su un certo numero di processi. Il progetto deve essere commentato in formato Doxygen, e corredato da uno script configurazione per tale tool e da uno script Makefile per la sua compilazione. Inoltre si devono allegare al progetto anche eventuali file di supporto.</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;Nel dettaglio: il programma dovrà calcolare la matrice quadrata C di ordine N risultante dal prodotto tra due matrici quadrate A e B di ordine N. Successivamente deve calcolare la somma degli elementi della matrice C. Alla fine dell’esecuzione la matrice C, dovrà essere memorizzata in un file. La somma degli elementi di C dovrà essere stampata a video. Queste operazioni dovranno essere svolte mediante la cooperazione tra P processi concorrenti.</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;Il programma dovrà prendere 5 parametri:</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;1. Il path del file contenente la matrice A.</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;2. Il path del file contenente la matrice B.</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;3. Il path del file in cui salvare la matrice C.</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;4. L’Ordine N (dimensione) delle due matrici.</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;5. Il numero P di processi concorrenti da utilizzare.</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;E.g.,</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;```</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;./calcola matA Matb MATc 6 4</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;```</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;La matrice A è contenuta nel file matA, la matrice B è contenuta nel file Matb, le matrici sono di ordine 6 (matrici quadrate 6x6) e devono essere allocati 4 processi. La matrice C verrà salvata in MATc.</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;Il processo principale (PADRE) dovrà:</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    1. Leggere le matrici A e B dai file.</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    2. Memorizzare le due matrici in due aree di Memoria Condivisa.</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    3. Creare una terza area di Memoria Condivisa che conterrà la matrice C risultante della moltiplicazione tra matrici.</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    4. Creare una quarta area di Memoria Condivisa che conterrà il risultato della somma degli elementi di C: questa area di Memoria Condivisa dovrà contenere un unico intero.</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    5. Creare i P processi che coopereranno concorrentemente per svolgere la computazione, e creare ed inizializzare tutte le strutture di supporto quali: semafori, pipe, fifo, etc.</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    6. Coordinare i P processi figli per “distribuire” le operazioni da compiere:&lt;br&gt;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;       a. Operazioni per calcolare la matrice C, prodotto di A e B.&lt;br&gt;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;       b. Operazioni per calcolare la somma degli elementi di C.</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    7. Scrive su file la matrice C.</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    8. Stampa a video il valore della somma degli elementi di C.</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;Ogni processo figlio eseguirà una routine di questo tipo:</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    1. Attesa della ricezione di una richiesta di operazione da parte del padre</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    2. Ricezione dei dati e dell’operazione da eseguire, da parte del processo padre.</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    3. Esecuzione dell’operazione.</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    4. Scrittura del risultato nella corretta locazione di memoria condivisa.</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    5. Invio di un messaggio al padre per comunicare il completamento dell’operazione.</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    6. Attesa del comando successivo.</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;Ogni figlio ha due modalità di esecuzione: </div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;Modalità “Moltiplicazione”: Il padre richiede l’operazione di Moltiplicazione e manda al figlio due indici: i, j. Il figlio deve calcolare il valore dell’elemento i,j della matrice C. </div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;Il figlio dunque:</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    - deve leggere la riga i-esima della matrice A;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    - deve leggere la colonna j-esima della matrice B;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    - effettuare le operazioni aritmetiche necessarie;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    - scrivere il risulato nella cella i,j della matrice C;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    - comunicare al padre se l’operazione è andata a buon fine.</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;Modalità “Somma”: Il padre richiede l’operazione di Somma e comunica al figlio un indice k. Il figlio deve calcolare la somma della riga k-esima della matrice C, e sommarla al valore parziale della somma degli elementi di C. </div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;Il figlio dunque:</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    - legge la riga k-esima di C;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    - somma gli elementi letti;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    - legge il valore parziale della somma degli elementi di C;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    - somma gli elementi della k-esima riga di C e la somma parziale degli elementi di C; - aggiorna il valore parziale degli elementi di C.</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;Il padre invierà i comandi ai figli mediante delle pipe.</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;Il padre riceverà le comunicazioni da parte di tutti figli mediate una singola coda di messaggi: tutti i processi invieranno le informazioni utilizzando questa coda di messaggi, il processo padre dovrà filtrarli per capire, per ogni messaggio, quale figlio si è liberato.</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;   </div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;Il padre non potrà compiere NESSUNA operazione aritmetica sulle matrici. Le uniche operazioni permesse sono quelle implementate dalle modalità “Moltiplicazione” e “Somma” dei processi figli. Il padre dovrà limitarsi a coordinare/schedulare le operazioni dei figli.</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;Note:</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    - Il formato dei file di input contenenti le matrici è libero.</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    - I “formati” di dati utilizzati nella comunicazione tra padre e figli (e viceversa), ossia il formato delle stringe passanti per la pipe e dei messaggi, sono libera scelta dello studente.</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    - La corretta sincronizzazione tra letture e scritture su aree di memoria condivisa deve essere garantita, dove necessario, utilizzando semafori.</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    - Alla fine dell’esecuzione, il padre libera tutte le risorse.</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    - Si aggiungano ai processi delle stampe a video per poter seguirne l&#39;esecuzione.</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    - Per ogni chiamata ad una system call, si deve controllare che tale funzione abbia successo.</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    - I dettagli su come utilizzare la memoria condivisa o quanta allocarne, o quanti semafori, sono lasciati liberi.</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    - Quando i processi devono attendere, non devono fare attese attive: si devono bloccare.</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    - Ove possibile, si devono usare le system call al posto delle equivalenti chiamate a funzioni di libreria.</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    - Tutte le stampe a video, le letture e le scritture su file devono avvenire tramite system call (quindi ad esempio non si possono utilizzare printf, fprintf, scanf, fscanf, perror).</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    - Il programma deve gestire correttamente a prescindere dal numero N di processi (1, 2, uguale, minore o maggiore dell’ordine delle matrici).</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    - Il programma deve essere in grado di gestire matrici quadrate di qualsiasi Ordine.</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;#### FACOLTATIVO: Implementazione mediante thread</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;Si implementi una SECONDA VERSIONE del programma che si avvalga di thread anziché processi per risolvere il medesimo problema.</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;In questo caso P non viene passato da linea di comando: il programma è libero di utilizzare liberamente le thread, oltre che di decidere dinamicamente il numero di thread da utilizzare.</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;Tutte le operazioni aritmetiche che utilizzano le matrici dovranno essere svolte da thread.</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;Nota:</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    - Le thread saranno materia di esame orale. Dunque, per chi svolgerà la parte facoltativa, la parte di esame orale riguardante le thread si baserà principalmente sulla presentazione di questa.</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    - A chi non svolgerà la parte facoltativa verrà chiesto di rispondere ad alcune domande in merito alle thread e di svolgere durante l’interrogazione alcuni esercizi che utilizzano le thread.</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;#### FAQ</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    1. E’ possibile inserire il codice su file separati?&lt;br&gt;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    Questa decisione e&#39; lasciata allo studente, che puo&#39; scegliere il modo piu&#39; opportuno. L&#39;importante e&#39; che il codice sia ben strutturato e leggibile.</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    2. Si possono usare funzioni quali la printf, fscanf, etc.?&lt;br&gt;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    No. L&#39;elaborato richiede di usare le system call ove possibile, e tali funzioni sono rimpiazzabili tramite le system call open, write, etc. In generale, si cerchi di utilizzare il piu&#39; possibile le system call. Invece, si possono usare funzioni quali la sprintf, perche&#39; non ha una system call equivalente.</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    3. Alcune cose non sono ben specificate nell&#39;elaborato. Cosa faccio?&lt;br&gt;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    Alcune cose non sono specificate apposta per lasciare liberta&#39; agli studenti di implementarle come preferiscono. In caso di dubbi, si possono comunque contattare i docenti per eventuali chiarimenti.</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    4. Quale dei due stili presentati a lezione bisogna usare per il Makefile?&lt;br&gt;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    Lo studente può usare quello che preferisce.</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;#### N.B.: Tutto quanto non esplicitato in questo documento può essere implementato liberamente.</div></div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generato da &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
